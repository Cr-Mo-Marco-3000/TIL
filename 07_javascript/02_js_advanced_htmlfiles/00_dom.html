<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .ssafy-location {
      color: blue;
    }
  </style>
</head>
<body>
  <h1>Hello SSAFY</h1>
  <h2 id="location-header">Location</h2>
  <div>
    <ul>
      <li class="ssafy-location">서울</li>
      <li class="ssafy-location">대전</li>
      <li class="ssafy-location">광주</li>
      <li class="ssafy-location">구미</li>
      <li class="ssafy-location">부울경</li>
    </ul>
  </div>
  <script>
    // 실습 코드 목록
    // 한 줄씩 복사하여 개발자 도구에 붙여넣기

    // 1. Selection
    // 1-1. window & document
    console.log(window) // 하나의 탭과 그 내부 => 내부적으로 window.은 생략 가능
    console.log(document) // typeof(document) => 'object'
    console.log(window.document) // 당연히 얘도 가능

    // 1-2. querySelector
    const h1 = document.querySelector('h1') // h1 선택 => Inspector로 찍는 것과 같은 기능

    // 아래 두 개는 같지만, 명시적으로 지정해 주는 아래가 더 좋다.
    // css를 할 때, id값으로 style을 먹이는 것을 지양했던 이유가 id를 js셀렉터로 쓰기 위함이었다.
    const h2 = document.querySelector('h2')
    const secondH2 = document.querySelector('#location-header')
    
    const selectUlTag = document.querySelector('div > ul')

    // 1-3. querySelectorAll
    const liTags = document.querySelectorAll('li')
    // 어떤 클래스는 js를 위한 클래스임을 명시하기 위해 camel-case를 쓰기도 한다.
    const secondLiTags = document.querySelectorAll('.ssafy-location')

    // h1은 객체 => typeof(h1) => 'object'
    
    // console.log(h1) => <h1>Hello SSAFY</h1>
    // h1.innerText => 'hello SSAFY'

    // 객체에 접근해 수정가능
    // h1.innerText = '수정가능'

    // 2. Creation & Append
    // 2-1. createElement
    const ulTag = document.querySelector('ul')
    const newLiTag = document.createElement('li')

    // 2-2. append
    const ulTag = document.querySelector('ul')
    const newLiTag = document.createElement('li')
    newLiTag.innerText = '새로운 리스트 태그'
    ulTag.append(newLiTag)
    ulTag.append('문자열도 추가 가능')

    const new1 = document.createElement('li')
    new1.innerText = '리스트 1'
    const new2 = document.createElement('li')
    new2.innerText = '리스트 2'
    const new3 = document.createElement('li')
    new3.innerText = '리스트 3'
    ulTag.append(new1, new2, new3)

    // 여기서 new1을 다시 append 하면 기존의 new1 li가 없어지고 끝에 붙는다.
    // 같은 객체를 가리키고 있으니 두 개를 만들 수는 없고, 이유가 있으니 이런 명령을 내렸겠지 하고 동작한다.
    

    // 2-3. appendChild
    const ulTag = document.querySelector('ul')
    const newLiTag = document.createElement('li')
    newLiTag.innerText = '새로운 리스트 태그'
    ulTag.appendChild(newLiTag)
    ulTag.appendChild('문자열은 추가 불가')

    const new1 = document.createElement('li')
    new1.innerText = '리스트 1'
    const new2 = document.createElement('li')
    new2.innerText = '리스트 2'
    ulTag.appendChild(new1, new2)
    // 오류가 나지는 않지만, new 1만 append 되는 것을 확인할 수 있다.
    // appendChild는 하나의 객체만 append 가능

    listTwo = ulTag.appendChild(new2)
    listTwo.innerText = '반환됨'
    // appendChild는 append된 객체를 반환하기 때문에, 이렇게도 활용 가능하다
    




    // 2-2. innerText & innerHTML
    // innerHTML은 내부 텍스트의 html 태그를 인식해서 적용한다
    // 위험하니 쓰지 말자!
    const ulTag = document.querySelector('ul')
    const liTag1 = document.createElement('li')
    liTag1.innerText = '<strong>춘천</strong>'
    const liTag2 = document.createElement('li')
    liTag2.innerHTML = '<strong>춘천</strong>'
    ulTag.append(liTag1, liTag2)

    // XSS 공격
    const ulTag = document.querySelector('ul')
    ulTag.innerHTML = '<li><a href="javascript:alert(\'당신의 개인정보 유출\')">춘천</a></li>'


    // 3. Delete
    // 3-1. remove
    const header = document.querySelector('#location-header')
    header.remove()

    // 3-2. removeChild
    const parent = document.querySelector('ul')
    const child = document.querySelector('ul > li')
    const removedChild = parent.removeChild(child)
    console.log(removedChild)
    
    // 기존 child는 삭제되었으므로 다음 목록을 삭제하려면 다시 할당 해주어야 함

    // 4. 속성
    // 4-1. setAttribute
    const header = document.querySelector('#location-header')
    header.setAttribute('class', 'ssafy-location')

    // 클래스를 입력하는 방법은 이런 방법도 있다.
    header.classList = ['ssafy-location', 'hello', 'world']
    header.classList.add('new-class')

    // 4-2. getAttribute
    const getAttr = document.querySelector('.ssafy-location')
    getAttr.getAttribute('class')
    getAttr.getAttribute('style')

    //2-5. Element Styling
    // li1, 2, 3에 특정 태그를 지정해준 후 실행
    li1.style.cursor = 'pointer'
    li2.style.color = 'blue'
    li3.style.background = 'red'

    // 이렇게 일일히 조작하는 것 보다, css에 class를 지정한 후 class로 먹여주는 것이 바람직하다.
  </script>
</body>
</html>
