# 표준입출력

## 1. 스트림의 개념

- 스트림
  - 실행 중인 프로그램과 외부 장치를 **연결(interface)**해 주는 **논리적인 연결**
- 표준 스트림
  - stdin, stdout, stderr 세가지
  - 표준 입출력 장치를 위한 스트림
  - 운영체제에 의해서 자동으로 생성 및 관리

- 표준 입출력 함수
  - printf(), scanf(), puts(), gets(), getchar(), putchar()
  - 해당 함수들은 표준 입출력으로 들어오고 나간다.
  - **표준 입출력 장치는 키보드와 터미널을 대상으로 한다**

- 메모리에서 디스크에 입출력 데이터를 저장, 불러오는 것을 SAVE, LOAD라고 부르고, 이를 파일입출력이라고 한다.

### 2. 파일입출력

- 파일 입출력은 대상이 디스크 장치이다.
- 디스크 장치는 표준 입출력 장치가 아니기 때문에 **C 개발자가 파일연결 과정에 직접 관여해야 한다.**
  - 스트림을 필요로 할 때 생성하고, 필요치 않을 때 소멸해야 함
- **파일 입출력 스트림은 표준 입출력 함수를 사용할 수 없다.**

- 파일 입출력 과정

  1. 스트림 연결(생성) - fopen()

  2. read / write (파일 입출력함수)
  3. 스트림 닫기 - fclose()

- 파일 입출력 함수(8개)
  - 해당 **함수**들은 임의의 스트림(표준 입출력 스트림도 가능)에서 사용 가능하다.
  - fget(), fput()
    - 문자
  - fgets(), fputs()
    - 문자열
  - fscanf(), fprintf()
    - 형식화된 문자열
  - fread(), fwrite()
    - 파일



## 2. 파일입출력을 위한 스트림

스트림은 open 동작으로 파일에 연결되고, 사용이 끝나면 close 동작으로 파일과 연결을 단절시킨다.

fopen

- FILE 구조체를 생성하고, FILE 구조체 포인터를 반환하는 함수
- 각 FILE 개체는 스트림을 나타내고, 내부에 장치에 엑세스하는 데 필요한 정보들을 보유

### 1. 텍스트 데이터 입출력

r == rt, w == wt, a == at

#### 1. 문자 입출력

- `int fputc(int char, FILE *stream);`
  - int char 부분에는 어떤 식으로든 입력된 한 문자가 온다.



... => 가변인자 함수



### 3. 정형화된 함수 입출력



## 3. 이진 스트림 모드

`rb, wb, ab`

fread, fwrite;

해당 함수들은 어떠한 종류의 어떠한 파일이라도 읽어들일 수 있다.



```c
#include <stdio.h>
#include <stdlib.h>

int main(void) {
	int salary;
	
	// 임시 문자배열을 선언해서, 사용자의 입력을 검사한다.
	// atoi, atol, atif
	char tmp[100];

	do { 
		
		printf("input salary ?");
		gets(tmp);
		salary = atoi(tmp);

	} while (!salary);


	return 0;
}
```

