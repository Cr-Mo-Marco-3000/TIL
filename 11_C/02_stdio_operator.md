# 콘솔 입출력과 C 언어 연산자

## 1. 콘솔 입출력의 개념

콘솔 입출력은 키보드나 터미널 장치를 대상으로 **입력, 출력**하는 것을 말한다.

**콘솔 입출력함수**는 **표준 라이브러리 함수**이다. 



### 1.1 표준 스트림

표준 스트림은 외부 장치와 프로세스를 연결한다.

표준 스트림은 운영체제를 통해서 자동으로 생성되고 관리된다.

즉, 표준 스트림은 프로그램 실행 시 자동으로 생성되고, 프로그램 종료 시 자동으로 소멸된다.

- 종류
  - 표준 입출력 스트림은 **stdio.h파일**에 의해 다음과 같이 정의된다.
  - stdin
    - 표준 입력 스트림
    - 키보드와 연결
  - stdout
    - 표준 출력 스트림
    - 모니터(터미널)과 연결
  - stderr
    - 표준 에러 스트림
    - 모니터(터미널)과 연결

- 표준 입출력 장치를 사용하기 위해서는 제공되는 **라이브러리 함수를 이용**하여 외부장치를 사용할 수 있다.
  - 표준 스트림을 사용하기 위해서는 **각 스트림의 입력과 출력을 담당하는 함수를 호출**하여야 한다.
  - 표준 입출력 함수는 **<stdio.h>**에 함수의 원형이 정의되어 있다.
  - 종류
    - printf()
      - 형식화된 출력

    - scanf()
      - scan formatted
      - 형식화된 입력

    - putchar()
      - 한 문자 출력

    - getchar()
      - 한 문자 입력

    - gets()
      - 문자열 입력

    - puts()
      - 문자열 출력




## 2. 표준 출력 함수

### 1. putchar()

**한 문자**를 표준 출력 장치인 stdout(터미널)에 출력한다.

```c
#include <stdio.h>

int main() {
	char c1 = 'A';
	char c2 = 66;

	putchar(c1);
	putchar(c2);
	putchar(67);
	putchar('D');
	putchar('\n'); // 1바이트로 처리
	return 0;
}
```

### 2. puts() 함수

**puts()** 함수는 **문자열**을 표준 출력 장치인 stdout(터미널)에 출력한다.

**puts()** 함수는 자동으로 **줄 바꿈 기능을 포함**한다.

```c
#include <stdio.h>

int main() {
	// puts - putstring 함수는 내부에 문자'열'이 와야한다.
	// puts 함수는 문자 개행을 약속한다.
	puts("다우기술");
	puts("야구 보는 중입니다.");

	return 0;
}
```

### 3. printf() 함수

다양한 형식 지정자(서식 지정자)를 통해서 여러 종류의 데이터를 출력한다.

**인수** 목록에 있는 해당 **값**들을 형식문자열(format) 인수에 잇는 **형식 코드에 따라** 표준 출력장치로 **출력**한다.

- 형식 지정자의 종류

![20230309_193411](C:\Users\bizyoung93\Desktop\TIL\11_C\02_stdio_operator.assets\20230309_193411.jpg)

```c
#include <stdio.h>

int main(void)
{
    printf("/%d/ \n",555);
    printf("/%10d/ \n",555); // 총 10칸을 출력하되, 빈 공간만큼 공백을 채움
    printf("/%-10d/ \n",555); // -를 붙이면 인수값들을 좌측정렬(기본은 우측정렬)
    
    // 앞에 0, .을 붙이면 빈 칸에 공백이 아닌 0을 넣음
    // 아래 두 코드는 동일 \n 얘 빼고
    printf("/%010d/ \n", 555);
    printf("/%.10d/ \n", 555);

    printf("/%f/ \n",8192.1978); // 기본적으로 소수점 이하 6자리
    printf("/%13f/ \n",8192.1978);
    printf("/%13.2f/ \n",8192.1978); // 소수점 몇 번째 자리까지 표시할지 명시가능
    printf("/%-13.2f/ \n\n",8192.1978);

    printf("%c %d %c %d \n",'A','A',97,97);
    printf("%s \n", "C Language...");
    printf("%25s\n", "C Language...");
    printf("%.5s \n\n", "C Language...");

    // 아래 자료형 지정자는 인수를 각각 10 / 8 / 16진수로 표기하라는 것을 말한다.
    // #을 같이 써 주면, 혼란을 방지하기 위해 진법 표기를 같이 출력 해 준다.
    printf("%d %o %x \n",67,67,67); // 우측은 10진수 표기법
    printf("%d %#o %#x \n",067,067,067); // 우측은 8진수 표기법
    printf("%d %#o %#x \n",0x67,0x67,0x67); // 우측은 16진수 표기법
 
	 return 0 ;
}


```



### 4. 백슬래시 문자 상수

![20230309_194057](C:\Users\bizyoung93\Desktop\TIL\11_C\02_stdio_operator.assets\20230309_194057.jpg)

- backslash-character constant
- escape sequence라고도 함
- 키보드로부터 입력을 받을 수 없거나, 출력 시 다른 특별한 목적으로 사용되는 문자들
- 일반 문자들을 출력할 수 있는 곳이라면 어디든지 출력 가능
- **아스키 코드 내부의 특정 문자 값들을 쓰기 쉽게 매핑해 놓은 것!**

```c
#include <stdio.h>

int main(void)
{
    
    // excape sequence는, 아스키 코드 내부의 특정 값들을 쓰기 편하게 매핑해 놓은 것
    printf("%d \n",555);
    // 위 코드 대신 아스키 코드를 아래와 같이 직접 사용해도 된다
    printf("%d %c", 555, 9); // => 개행 문자는 아스키 코드로 9번

	 return 0 ;
}

```



## 3. 표준 입력 함수

입출력장치는 속도가 느리기 때문에 메모리에 있는 일정내용을 모아서 입/출력을 받는 라인버퍼 함수를 사용한다.

C에서의 표준 라인버퍼 입력함수는

getchar(), scanf(), gets() 세 가지가 있다.

이들을 사용할 때 주의할 점에 대해 적어보자

1. scanf()를 사용할 때, 기본적으로 %s나 %d의 경우에는 이전 라인버퍼에 남겨진 것들이 있어도 자기가 원하는 형식이 아니면 모두 날린 후 새로 입력을 받는다.
   - 즉, %s나 %d등을 사용할 때는 버퍼 내부를 확인할 필요가 없다.

2. `%d` 등 수를 받는 형식 지정자들은, 1. 해당하는 형식이 아닌 것들이 오면 입력을 바로 종료시킨다(버퍼에는 입력된 것들이 남아 있다), 2. 공백이 오면 수가 나타날 때 까지 다시 입력을 받는다.
3. %s는 입력된 데이터 라인버퍼에서 공백이나 탭, \n을 만나면 즉시 입력받는 부분을 멈추고 문자열에서 해당 부분에 NULL을 붙여 저정한다. 즉 해당 부분은 여전히 라인버퍼에 남아있다.

### 한 글자를 입력받을 때 라인버퍼에 남은 값을 지우는 방법

getchar()함수나 %c를 써서 한 글자를 입력받을 때 라인버퍼을 비우는 테크닉

1. `scanf("%d%*c", tmp);`
   - 선행 입력자 뒤에 %*c를 붙여서 라인 버퍼에서 하나를 제거
2. `scanf(" %c", tmp);`
   - %c 앞에 공백을 하나 넣어 공백, 탭, \n 제거
3. `while (getchar() != '\n')`;
   - 새 줄을 표현하는 \n이 올 때까지 키보드 버퍼에서 값을 계속 빼냄
4. fflush() 함수 사용

## 4. C 언어 연산자

> 다른 프로그래밍 언어와 차이가 있는 부분 위주로 기술

- 연산자의 분류

  ![20230309_190429](C:\Users\bizyoung93\Desktop\TIL\11_C\02_stdio_operator.assets\20230309_190429.jpg)



- 연산자 우선순위

![20230315_161650](C:\Users\bizyoung93\Desktop\TIL\11_C\02_stdio_operator.assets\20230315_161650.jpg)



### 1. 증감 연산자

- 증감연산자를 사용하는 것이 1을 빼고 더하는 치환문보다 컴파일속도가 빠르다.
  - 주의할 점은, 변수와 증감연산자 사이에 공백이 있으면 안 된다.

- 전위형(PREFIX)과 후위형(POSTFIX) 연산이 있다.
  - 식이 단독으로 처리되는 경우는, 전위, 후위 연산의 차이가 없다
  - 전위형 연산
    1. 변수의 값에 대해 먼저 증감 연산
    2. 변화된 변수의 값이 그 변수가 포함된 연산식에 적용
  - 후위형
    1. 변수의 값을 연산식에 먼저 적용
    2. 변수의 값에 대해 증감 연산은 나중에 처리

```c
#include <stdio.h>

int main() {
	int x=100, y=200;

	printf("x: %d, \n", x);
	// x++;
	++x;
	printf("x: %d, \n", x);
	// x--;
	--x;
	printf("x: %d, \n", x);

	// 증감연산은 식이 단독으로 처리되는 경우는, 전위, 후위 연산의 차이가 없다
	printf("x: %d, y: %d \n", ++x, y++); // x를 먼저 증가시키고 x를 찍기, y를 찍은 후 증가시키기
	printf("x: %d, y: %d \n", x, y);
	printf("x: %d, y: %d \n", --x, y--); // x를 먼저 증가시키고 x를 찍기, y를 찍은 후 증가시키기
	printf("x: %d, y: %d \n", x, y);

	return 0;
}
```

### 2. 관계 연산자와 논리 연산자

- 관계 연산자
  - 비교하는 연산자는, 서로 다른 타입 간 비교가 가능하지만
    - 정수, 실수, 포인터만 비교 가능? => 문자도 되긴 한다 - 문자열 안됨

  - 대소관계 및 상등관계 표현
  - `>=`, `!=` 등
  
- 논리 연산자
  - 참 또는 거짓과 같은 논리값을 이용해 논리연산 수행
  - 참이면 1, 거짓이면 2를 반환
  - `||`, `&&`, `!`

### 3. 기타 연산자

#### 1. 삼항 연산자

- js에서의 삼항 연산자와 비슷하다.

```c
// 삼항 연산자 체이닝
printf("%s \n", x == 0 ? "남성" : x == 1 ? "여성" : "입력오류!!!");

// 요렇게 쌩으로도 사용 가능
toupper(unit) == 'K' ? 
    printf("%d 킬로그램은 %f 파운드이다.", weight, weight / 0.453592) : 
    printf("%d 파운드는 %f 킬로그램이다.", weight, weight * 0.453592);
```



#### 2. cast 연산자(형 변환 연산자)

- 명시적으로 형 변환을 하고자 할 때 사용
- **하지만 식이 처리되는 동안만 잠시 형 변환 되고, 식이 처리되면 원래의 형으로 남음**
- 형식
  - `(연산자) 변수`
  - `(int) 3.14`
    - 만약 얘를 변수에 대입하면 .14는 날아가는 값 손실이 일어남

#### 3. 대입 연산자, 복합대입 연산자, 콤마 연산자

- `=`
  - 대입 연산자
- `+=, -=, */, <<=`등
  - 복합 대입 연산자
- `,`
  - 콤마(나열) 연산자
  - **연결된 마지막 값을 반환**



c 프로그램에서 표준 입출력 장치를 사용하기 위해서는 제공되는 라이브러리 함수를 이용하여 외부장치를 사용할 수 있다.

총 6개

이스케이프 시퀀스는 1byte